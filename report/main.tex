\documentclass[12pt,a4paper]{report}

% Essential Packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
\usepackage{amsmath,amssymb,amsthm}
% Algorithm packages (optional - comment out if texlive-science not installed)
% \usepackage{algorithm}
% \usepackage{algpseudocode}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{enumitem}
\usepackage{float}
\usepackage{caption}
\usepackage{url}
\usepackage{mathtools}

% TikZ Libraries
\usetikzlibrary{shapes,arrows,positioning,calc,patterns,decorations.pathreplacing,shadows,fit,backgrounds}
\pgfplotsset{compat=1.18}

% Code Listing Setup
\lstset{
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue}\bfseries,
    commentstyle=\color{gray}\itshape,
    stringstyle=\color{red},
    numbers=left,
    numberstyle=\tiny\color{gray},
    stepnumber=1,
    numbersep=10pt,
    backgroundcolor=\color{white},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=single,
    tabsize=2,
    captionpos=b,
    breaklines=true,
    breakatwhitespace=false,
    escapeinside={\%*}{*)},
    xleftmargin=2em,
    framexleftmargin=1.5em
}

% Python Syntax Highlighting
\lstdefinestyle{python}{
    language=Python,
    morekeywords={self,True,False,None,with,as},
    deletekeywords={all,sum,min,max,apply}
}

% YAML Syntax Highlighting
\lstdefinestyle{yaml}{
    basicstyle=\ttfamily\small,
    keywords={},
    keywordstyle=\color{blue}\bfseries,
    sensitive=false,
    comment=[l]{\#},
    commentstyle=\color{gray}\itshape,
    stringstyle=\color{red},
    morestring=[b]',
    morestring=[b]"
}

% Hyperref Setup
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    citecolor=green,
    pdftitle={FED-MED: Federated Medical AI with Agentic Aggregation},
    pdfauthor={},
    bookmarks=true,
}

% Custom Commands
\newcommand{\fedmed}{\textsc{FED-MED}}
\newcommand{\lora}{\textsc{LoRA}}
\newcommand{\fedavg}{\textsc{FedAvg}}

% Theorem Environments
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Title Page Information
\title{
    \Huge \textbf{FED-MED: Federated Medical AI with\\Agentic Aggregation and LoRA}\\[1em]
    \Large Privacy-Preserving Collaborative Learning\\for Healthcare Applications
}
\author{
    % Add your name here
}
\date{January 2026}

\begin{document}

% Title Page
\maketitle

% Abstract
\begin{abstract}
Privacy-preserving machine learning in healthcare faces the critical challenge of training robust models across distributed hospital datasets without violating patient confidentiality regulations such as HIPAA and GDPR. This work presents \fedmed{}, a novel federated learning framework that combines three key innovations: (1) parameter-efficient fine-tuning using Low-Rank Adaptation (\lora{}) achieving 99.90\% model size reduction, (2) intelligent agent-based aggregation that dynamically weights client contributions based on training quality, outperforming traditional \fedavg{} by 39.5\%, and (3) comprehensive safety guardrails for responsible medical AI deployment.

We demonstrate \fedmed{} on a distributed medical question-answering task across three simulated hospital clients using Mistral-7B as the base model. Our approach achieves 62.5\% loss reduction over three federated rounds while transmitting only 13 MB per round compared to 13 GB for full model synchronization. The agent-based aggregation mechanism automatically detects and down-weights unstable or low-quality client updates, providing robustness against data heterogeneity and potential adversarial behavior. Experimental results validate that \fedmed{} enables practical deployment of large language models in federated healthcare settings with minimal communication overhead and strong privacy guarantees.

\noindent\textbf{Keywords:} Federated Learning, Medical AI, LoRA, Privacy-Preserving Machine Learning, Agentic Systems, HIPAA Compliance
\end{abstract}

% Table of Contents
\tableofcontents
\listoffigures
\listoftables

% Chapters
\chapter{Introduction}
\input{sections/introduction}

\chapter{Related Work}
\input{sections/related_work}

\chapter{Methodology}
\input{sections/methodology}

\chapter{Experimental Setup}
\input{sections/experimental_setup}

\chapter{Results and Analysis}
\input{sections/results}

\chapter{Discussion}
\input{sections/discussion}

\chapter{Conclusion and Future Work}
\input{sections/conclusion}

% Appendices
\appendix
\chapter{Code Architecture}
\input{sections/appendix_code}

\chapter{Configuration Files}
\input{sections/appendix_config}

\chapter{Additional Experimental Results}
\input{sections/appendix_results}

\chapter{Safety Guardrails Implementation}
\input{sections/appendix_safety}

% Bibliography
\bibliographystyle{ieeetr}
\bibliography{references}

\end{document}
